<div class="p-6 min-w-[350px]">
  <h2 mat-dialog-title class="!p-0 !mb-2">{{ dialogTitle }}</h2>

  <mat-dialog-content class="!p-0">
    <p class="text-secondary mb-6">Enter project name and choose icon</p>

    <div class="flex items-center gap-3">
      <button
        mat-icon-button
        [matMenuTriggerFor]="iconMenu"
        class="bg-surface-container-highest flex-shrink-0"
        matTooltip="Pick an icon">
        <mat-icon class="text-primary mat-icon-filled">{{ selectedIcon }}</mat-icon>
      </button>

      <mat-form-field appearance="outline" class="flex-1">
        <input
          matInput
          [(ngModel)]="projectName"
          placeholder="Project name"
          [maxlength]="20"
          cdkFocusInitial
          (keydown.enter)="onSubmit()">
      </mat-form-field>
    </div>

    <mat-menu #iconMenu="matMenu" class="icon-picker-menu">
      <div class="grid grid-cols-4 gap-2 p-3">
        @for (icon of availableIcons; track icon) {
          <button
            mat-icon-button
            (click)="selectIcon(icon)"
            class="!w-10 !h-10">
            <mat-icon
              class="mat-icon-filled"
              [class.primary-icon-color]="selectedIcon === icon"
              [class.text-primary]="selectedIcon !== icon">
              {{ icon }}
            </mat-icon>
          </button>
        }
      </div>
    </mat-menu>

  </mat-dialog-content>

<mat-dialog-actions align="end" class="!p-0">
  <button mat-button (click)="onCancel()">Cancel</button>
  <button mat-flat-button (click)="onSubmit()" [disabled]="!projectName.trim()">
    {{ mainButtonLabel}}
  </button>
</mat-dialog-actions>
</div>
